require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([2],{19:function(e,o,t){"use strict";var s=n(t(3)),a=n(t(20));function n(e){return e&&e.__esModule?e:{default:e}}Page((0,s.default)(a.default))},20:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var s=t(22),a=t.n(s),n=t(23),i=!1;var l=function(e){i||t(21)},c=t(0)(a.a,n.a,l,null,null);c.options.__file="..\\..\\..\\..\\..\\Documents\\HBuilderProjects\\tictok\\pages\\me\\me.vue",c.esModule&&Object.keys(c.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] me.vue: functional components are not supported with templates, they should use render functions."),o.default=c.exports},21:function(e,o){},22:function(e,o,t){"use strict";(function(e){Object.defineProperty(o,"__esModule",{value:!0});var s,a=t(1),n=(s=a)&&s.__esModule?s:{default:s};o.default={data:function(){return{imageSrc:"",nickname:"",fansCounts:"",followCounts:"",receiveLikeCounts:"",sourceTypeIndex:2,sourceType:["拍摄","相册","拍摄或相册"],videoSrc:""}},created:function(){var e=n.default.getGlobalUserInfo();null!=e&&void 0!=e&&(this.imageSrc=n.default.serverUrl+e.faceImage,this.nickname=e.nickname,this.fansCounts=e.fansCounts,this.followCounts=e.followCounts,this.receiveLikeCounts=e.receiveLikeCounts)},methods:{chooseImage:function(){var o=this;e.showLoading({}),e.chooseImage({count:1,sizeType:["compressed"],sourceType:["album"],success:function(t){console.log("chooseImage success, temp path is",t.tempFilePaths[0]);var s=t.tempFilePaths[0],a=n.default.getGlobalUserInfo();e.uploadFile({url:n.default.serverUrl+"/user/upload?userId="+a.id,filePath:s,name:"file",success:function(t){console.log("uploadImage success, res is:",t),e.showToast({title:"上传成功",icon:"success",duration:1e3});var s=JSON.parse(t.data).data;console.log(s);var a=n.default.serverUrl+s.faceImage;o.imageSrc=a,console.log(o.imageSrc)},fail:function(o){console.log("uploadImage fail",o),e.showModal({content:o.errMsg,showCancel:!1}),e.hideLoading()},complete:function(){console.log("complate")}})},fail:function(o){console.log("chooseImage fail",o),e.hideLoading()}})},chooseVideo:function(){e.navigateTo({url:"../uploadVideo/uploadVideo"})}}}}).call(o,t(2).default)},23:function(e,o,t){"use strict";var s=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("view",{staticClass:"container"},[t("image",{staticClass:"face",attrs:{src:e.imageSrc,eventid:"A8N-0"},on:{tap:e.chooseImage}}),t("label",{staticClass:"nickname"},[e._v(e._s(e.nickname))]),t("button",{staticClass:"primary",attrs:{size:"mini",eventid:"wnH-1"},on:{tap:e.chooseVideo}},[e._v(" 上传作品")]),t("button",{staticClass:"logout",attrs:{size:"mini",type:"",eventid:"pJ9-2"},on:{tap:e.logout}},[e._v("注销")]),t("view",{staticClass:"container-row"},[t("label",{staticClass:"info-items"},[e._v(e._s(e.fansCounts)+" 粉丝")]),t("label",{staticClass:"info-items"},[e._v(e._s(e.followCounts)+" 关注")]),t("label",{staticClass:"info-items"},[e._v(e._s(e.receiveLikeCounts)+" 获赞")])],1),t("view",{staticClass:"container"},[t("video",{attrs:{src:e.videoSrc,controls:""}})])],1)};s._withStripped=!0;var a={render:s,staticRenderFns:[]};o.a=a}},[19]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/me/me.js.map