require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([1],{24:function(e,t,o){"use strict";var i=a(o(3)),s=a(o(25));function a(e){return e&&e.__esModule?e:{default:e}}Page((0,i.default)(s.default))},25:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(27),s=o.n(i),a=o(28),n=!1;var r=function(e){n||o(26)},d=o(0)(s.a,a.a,r,null,null);d.options.__file="..\\..\\..\\..\\..\\Documents\\HBuilderProjects\\tictok\\pages\\uploadVideo\\uploadVideo.vue",d.esModule&&Object.keys(d.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),d.options.functional&&console.error("[vue-loader] uploadVideo.vue: functional components are not supported with templates, they should use render functions."),t.default=d.exports},26:function(e,t){},27:function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i,s=o(1),a=(i=s)&&i.__esModule?i:{default:i};var n=[["camera"],["album"],["camera","album"]];t.default={data:function(){return{show:!1,bgmList:[],audioAction:{method:"pause"},bgmServerUrl:"",videoPoster:"",bgmId:"",video:{},videoSrc:"",current:{poster:"https://img-cdn-qiniu.dcloud.net.cn/uniapp/audio/music.jpg",name:"致爱丽丝",author:"暂无",src:"https://img-cdn-qiniu.dcloud.net.cn/uniapp/audio/music.mp3"}}},methods:{chooseVideo:function(){var t=this;e.chooseVideo({sourceType:n[this.sourceTypeIndex],success:function(e){console.log(JSON.stringify(e)),t.videoSrc=e.tempFilePath,t.show=!0;var o=a.default.getGlobalUserInfo(),i=(e.duration,e.tempFilePath),s=e.height,n=e.width;t.video.videoHeight=s,t.video.videoWidth=n,t.video.userId=o.id,t.video.audioId=t.bgmId,t.video.videoPath=i}})},upload:function(t){console.log(JSON.stringify(this.video)),e.uploadFile({url:a.default.serverUrl+"/video/upload",filePath:this.video.videoPath,name:"file",formData:{userId:this.video.userId,audioId:this.video.audioId,videoHeight:this.video.videoHeight,videoWidth:this.video.videoWidth,videoDesc:t.detail.value.desc},success:function(t){console.log("uploadImage success, res is:",t),e.showToast({title:"上传成功",icon:"success",duration:1e3})},fail:function(t){console.log("uploadImage fail",t),e.showModal({content:t.errMsg,showCancel:!1}),e.hideLoading()},complete:function(){console.log("complate")}})},radioChange:function(e){var t=e.detail.value;this.bgmId=t,console.log(this.bgmId)}},created:function(){var t=this;this.bgmServerUrl=a.default.serverUrl,e.request({url:this.bgmServerUrl+"/bgm/list",method:"GET",data:{},success:function(e){var o=e.data.data.list;t.bgmList=o},fail:function(){},complete:function(){}})}}}).call(t,o(2).default)},28:function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("view",{staticClass:"container"},[o("form",{attrs:{eventid:"BB4-3"},on:{submit:e.upload,reset:e.formReset}},[o("button",{staticClass:"submitBtn",attrs:{eventid:"oY6-0"},on:{tap:e.chooseVideo}},[e._v(" 选择视频")]),e.show?o("block",[o("view",{staticClass:"video"},[o("video",{attrs:{src:e.videoSrc,controls:""}})])]):e._e(),o("scroll-view",{staticClass:"scroll-Y",attrs:{"scroll-y":"true"}},[o("view",{staticClass:"uni-list"},[o("radio-group",{attrs:{eventid:"I0w-1",mpcomid:"LmX-0"},on:{change:e.radioChange}},e._l(e.bgmList,function(t,i){return o("label",{key:t.id,staticClass:"uni-list-cell uni-list-cell-pd"},[o("view",[o("radio",{attrs:{value:t.id}})],1),o("view",{staticClass:"container"},[o("audio",{staticStyle:{"text-align":"left"},attrs:{src:e.bgmServerUrl+t.path,poster:e.current.poster,name:t.name,author:t.author,action:e.audioAction,controls:""}})],1)])}))],1)]),o("view",{staticClass:"inputView"},[o("label",{staticClass:"loginLabel"},[e._v("视频描述：")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.video.desc,expression:"video.desc"}],staticClass:"inputText",attrs:{name:"desc",placeholder:"说点什么吧",eventid:"hlM-2"},domProps:{value:e.video.desc},on:{input:function(t){t.target.composing||(e.video.desc=t.target.value)}}})],1),o("button",{staticClass:"submitBtn",attrs:{formType:"submit",type:"primary"}},[e._v("上传视频")]),o("button",{staticClass:"gobackBtn",attrs:{type:"default",formType:"reset"}},[e._v("重置")])],1)],1)};i._withStripped=!0;var s={render:i,staticRenderFns:[]};t.a=s}},[24]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/uploadVideo/uploadVideo.js.map